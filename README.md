# chatbots-dialogflow

## Intro

- Answer FAQ - Have a dialog with customers, friends, anybody you want


**Concepts**

- Intents
- Entities
- Contexts
- Prebuilt Agents

**Advanced Topics**

- Backend App
- You need at least basic programming skills

### Chatbots - What they are and how do we build one?

**What is a Bot?**

Bot is a Software that Automates things that we do

*People spend 80% of time in just 3 apps*

*9 out of the 10 top used apps were made by Google and Facebook*

*The technology could permanently change the way humans interact with the digital world*

**What do we need to build a ChatBot?**

- Pretty Complicated Backend

- Data Mining

- Machine Learning

- Natural Language Processing

**Popular Bot Engines**

- API.ai (DialogFlow)

- WIT.ai

- Motion.ai

- OnSequel

- Chatfuel

- Botsify

- ManyChat

### What can I do with Bots?

**Get customized notifications and news.** A bot can act as a smart newspaper, sending you relevant content as soon as it's published.

**Integrate with other services.** A bot can enrich chats with content from external services like IMDB, Wiki, YouTube, GitHub, Foursquare....

**Create custom tools.** A bot may provide you with alerts, weather forecasts, translations, formatting or other services.

**Build single and multiplayer games.** A bot can play chess and checkers against you, act as host in quiz games, or even take up the dungeon master's dice for an RPG.

**Build social services.** A bot could connect people looking for conversation partners based on common interests or proximity.

**Do virtually anything else.** Except for time travel. They just can't do it. Yet!

### ChatBot behind the scenes

**What do we need before we begin?**

- Facebook Developer's Account

- DialogFlow Account

### ChatBot Architecture

- Bot Engine (DialogFlow)

- Web Application (On Your Server)

- Chat Platform (Facebook Messenger)




## Connect Facebook App with DialogFlow / have a first conversation with a Chatbot

### Create a Facebook Page

- Create a New Facebook Page or use one that you already had

### Create a Facebook Application

Go to the Facebook Developers Page and Create a New App

- https://developers.facebook.com/

> My Apps > Add New App

Insert the Name of the App and the Contact Email

`Display Name:`

`Contact Email`

### DialogFlow setup and intro

- DialogFlow - https://dialogflow.com/

- DialogFlow editions and pricing - https://cloud.google.com/dialogflow-enterprise/docs/editions 

DialogFlow provides developers and companies with the advanced tools they need to build conversational user interfaces for Apps and Hardware Devices

It enables out Bot to recognize what we say and provide accurate response

It has a built in Speech Recognition, so you can speak to it. And just for the record: Chrome browser already supports Speech Recognition

The next thing it does it processes the language, it recognizes the User Intent, that is the meaning of the text and helps you manage the responses

- Speech Recognition

- Natural Language Understanding and Conversation Management (Intent Recognition, Context Management, Conversation Management)

- Fulfillment

**Create a New Agent in DialogFlow**

Click in the Arrow left the Engine and select `Create new agent`

We have three intents already here:

- Default Welcome Intent

- Default Fallback Intent

### Connect DialogFlow and Facebook Aplication 

Go to `Integrations` Tab and enable `Facebook Messenger`

- `Verify Token:` - A long unique Password generated by You

- `Page Access Token:` - Generated by FB

Go to the FB App Site > Under Messenger, Click `Set Up` > Under `Page` select you FB Page > Approve the Connection > It generates a `Page Access Token`

After you inserted the values `Verify Token` and `Page Access Token`, click on `Start`

Go back to FB and finish Setup Webhook, copy the `Verify Token` and `Callback URL`

On FB, Click `Setup Webhooks` and insert the values

Enable the `messages` and `messaging_postbacks` checkboxes > `Verify and Save`

Scroll down to the `Webhook` Section and under the menu `Select a Page`, select your FB Page > `Suscribe`

### Connect DialogFlow and Facebook Aplication 

### First Conversation with your Bot

## Teach Chatbot to answer FAQ. Test and Train the Chatbot

  ### Show ChatBot how to answer FAQ
  
  ### How to test and train a ChatBot / Add friends as testers

## Teach a Bot how to have Dialogs. Master AP.AI (DialogFlow)

  ### Chatbot job enquiry
  
  ### Teach ChatBot to take candidates info
  
  ### Test your ChatBot - Job Interview Test
  
  ### No Application Context

## Rich Messages

  ### DialogFlow - Rich Messages Part 1
  
  ### DialogFlow - Rich Messages Part 2

## Make your Chatbot super smart!

  ### Prebuilt Agents
  
  ### Follow-up Intents
  
  ### DialogFlow Intents Priority

## Publish a Chatbot

  ### Make your ChatBot Public

## Upgrade a Chatbot - PART 2

  ### External Modules and APIs
  
  ### Heroku, GIT and Node.js
  
  ### Initial Project in Node.js

## Code walkthrough and configuration

  ### Project Configuration
  
  ### Google Authentication / Service Accounts / Google Project
  
  ### How to test Messenger Bots locally?
  
  ### Code walkrough - Part 1
  
  ### Code walkrough - Part 2
  
  ### Take care of Security
  
  ### First Deploy to Server

## Add extra features to Chatbot

  ### Get information from conversation - Part 1
  
  ### Get information from conversation - Part 2
  
  ### Test New Feature
  
  ### Send Button Message - Delivery Extra Options
  
  ### Set a Greeting Text for your ChatBot
  
  ### Set Get Started Button
  
  ### Set Persistant Menu
  
  ### Disable Text Input
  
  ### Get Information about the User
  
  ### Quick Replies in Parameters

## Connect to 3rd party API

  ### Connect to 3rd party API - Part 1
  
  ### Connect to 3rd party API - Part 2
  
  ### Publish the Update

## Save and retrieve information into a database

  ### Setup a Database for the ChatBot on Heroku
  
  ### Create User Table for User Information
  
  ### Save User Information into a Database
  
  ### Refactor User Module - Part 1
  
  ### Refactor User Module - Part 2
  
  ### More work with a Database - retrieving and using user's preferences
  
  ### Read information user seeks (available colors) from Database
  
  ### Remember User's Preference (Color)
  
  ### Use User's Preference later in the Conversation
  
  ### Save Job Application into a Database
  
  ### Refactor all the Bot Code
  
  ### DialogFlow - Trigger the Intent with Event

## ChatBots resources

  ### ChatBot Prototyping
  
  ### ChatBot Analytics
  
  ### ChatBot Developer Platforms
  
  ### ChatBot Stores
  
  ### ChatBot Marketing
  
  ### ChatBot Translators
  
  ### ChatBot Customer Service Engines
  
  ### ChatBot Job Boards
  
  ### ChatBot Magazines
  
  ### ChatBot NewsLetters
  
  ### ChatBot Discussion Forums
  
  ### ChatBot Podcasts
  
  ### ChatBot Conferences

## Broadcasting messages to users

  ### Intro to Broadcasting
  
  ### Newsletter: Quick Meny CallBack
  
  ### Newsletter: Save Settings to Database
  
  ### Newsletter: Unsuscribe
  
  ### Newsletter: Quick Menu - Suscribe to News
  
  ### Get the FB rights to Send Notifications
  
  ### Application for Sending News to Bot Users
  
  ### Facebook Login: Introduction and Setup
  
  ### Ejs Templating: Introduction
  
  ### Facebook Login: Authentication Implementation
  
  ### Ejs Templates and Login Page
  
  ### Logged in User Object
  
  ### Secure Login
  
  ### Broadcast Form
  
  ### Broadcast Confirm
  
  ### Send Messages

## Messenger WebViews

  ### WebViews Intro
  
  ### Whitelisting Domains
  
  ### Add WebView to Persistent Menu
  
  ### Create First WebView
  
  ### Create Settings Form
  
  ### Close WebView Window
  
  ### Get Info from a WebView (the form)
  
  ### Get User Id from Messenger Extensions
  
  ### Beautify Form with Materialize Design
  
  ### Save Setting from a WebView to a Database
  
  ### Read Settings from Database and Display them in a WebView

## Handover Protocol - Chatbots work hand in hand with live agents and other Bots

  ### Handhover Protocol - Intro
  
  ### Handhover Protocol Flow
  
  ### Handhover Protocol Setup
  
  ### Pass Thread Control - Code
  
  ### Stand by Channel Events
  
  ### Connecting the dots with DialogFlow Intents
  
  ### Test the Conversation
  
  ### Pass Conversation Control to Human in Fallback Intent

## Conclusion

